/*
 jquery.platinum-analytics.js

 Copyright (C) 2012 Mike Kibbel, MetaMetrics, Inc.
 https://raw.github.com/skibblenybbles/jquery-platinum/master/src/LICENSE
*/
(function(i,b,k){var n=function(c){return function(){var l=b.$pt;b.$pt=c;return l}}(b.$pt);b.$pt=i.platinum=i.platinum||{};b.$pt.noConflict=n;(function(c,b){var j=function(c,b,a,d){var f=[];j.each(c,function(a){f.push(a)},b,a,d);return f};j.each=function(c,b,a,d,f){var e;e=c.length;f=f||1;a="number"!==typeof a?0<f?0:e-1:0>a?a+e:a;d="number"!==typeof d?0<f?e:-1:0>d?d+e:d;if(0<f){a=Math.max(0,a);for(d=Math.min(e,d);a<d&&!(e=b.call(null,c[a]),!1===e);a+=f);}else{a=Math.min(e-1,a);for(d=Math.max(-1,d);a>
d&&!(e=b.call(null,c[a]),!1===e);a+=f);}};b.array=j})(i,$pt,b,k);(function(c,b,j,h){var g=b.array,a={},d=new c.Deferred;c(h).ready(function(){d.resolve()});a.hitch=function(a,c){return function(a,c,b){return function(){return c.apply(a,b.concat(g(arguments)))}}(a,c,g(arguments,2))};a.partial=function(a){return function(a,c){return function(){return a.apply(null,c.concat(g(arguments)))}}(a,g(arguments,1))};a.delegate=function(c,b){for(var d in b)"function"===typeof b[d]&&"constructor"!==d&&!(d in c)&&
(c[d]=a.hitch(b,b[d]))};a.ready=function(){return d};b.lang=a})(i,$pt,b,k);(function(c,b){b.scripts={load:function(b,h){h=c.extend(h||{},{dataType:"script",cache:!0,url:b});return c.ajax(h)}}})(i,$pt,b,k);(function(){var c=$pt.array,l=$pt.lang,j=$pt.scripts,h=[],g={},a=function(a){a!==h&&c.each(a,function(a){g.hasOwnProperty(a)||(h.push(a),g[a]=!1)});this.trackers=a},d=function(){var b=[],d={};if(0===arguments.length)return this;1===arguments.length&&"*"===arguments[0]?b=h:c.each(arguments,function(a){"string"===
typeof a?d.hasOwnProperty(a)||(b.push(a),d[a]=!0):i.isArray(a)&&c.each(a,function(a){d.hasOwnProperty(a)||(b.push(a),d[a]=!0)})});return new a(b)},f=function(a){return function(a){return function(){var d=c(arguments),e=[];c.each(this.trackers,function(b){g[b]&&e.push([(0===b.length?"":b+".")+a].concat(d))});b._gaq.push.apply(b._gaq,e);return this}}("_"+a)},e=function(a){return function(a){return function(d){var e=c(arguments,1),f=[];if("function"===typeof d)return c.each(this.trackers,function(c){g[c]&&
f.push(l.partial(function(a,c,d,e){a=b._gat._getTrackerByName(a);d(a[c].apply(a,e),a)},c,a,d,e))}),b._gaq.push.apply(b._gaq,f),this}}("_"+a)},m=null;d.load=function(){if(null===m)b._gaq=b._gaq||[],m=j.load(("https:"===k.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js").promise();return m};d.promise=function(){return m};c.each("addIgnoredOrganic,addIgnoredRef,addItem,addOrganic,addTrans,clearIgnoredOrganic,clearIgnoredRef,clearOrganic,cookiePathCopy,deleteCustomVar,getName,setAccount,link,linkByPost,setAllowAnchor,setAllowLinker,setCampContentKey,setCampMediumKey,setCampNameKey,setCampNOKey,setCampSourceKey,setCampTermKey,setCampaignCookieTimeout,setCampaignTrack,setClientInfo,setCookiePath,setCustomVar,setDetectFlash,setDetectTitle,setDomainName,setLocalGifPath,setLocalRemoteServerMode,setLocalServerMode,setReferrerOverride,setRemoteServerMode,setSampleRate,setSiteSpeedSampleRate,setSessionCookieTimeout,setVisitorCookieTimeout,trackEvent,trackPageview,trackSocial,trackTiming,trackTrans".split(","),
function(b){a.prototype[b]=f(b)});c.each("getAccount,getClientInfo,getDetectFlash,getDetectTitle,getLinkerUrl,getLocalGifPath,getServiceMode,getVersion,getVisitorCustomVar".split(","),function(b){a.prototype[b]=e(b)});a.prototype.setAccount=function(a){return function(){d.load();c.each(this.trackers,function(a){g[a]=!0});return a.apply(this,c(arguments))}}(a.prototype.setAccount);l.delegate(d,new a([""]));$pt.analytics=d})()})(jQuery,window,document);
